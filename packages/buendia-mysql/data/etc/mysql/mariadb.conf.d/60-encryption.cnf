[mariadb]
plugin_load_add = file_key_management

# The table encryption secret gets *itself* encrypted at rest.
# See https://mariadb.com/kb/en/file-key-management-encryption-plugin/#creating-the-key-file
file_key_management_filename = /etc/mysql/keyfile.enc
file_key_management_filekey = FILE:/usr/share/buendia/system.key

# AES_CBC is used by default. AES_CTR is preferred, but not supported in older MariaDB builds.
# https://mariadb.com/kb/en/file-key-management-encryption-plugin/#choosing-an-encryption-algorithm
# file_key_management_encryption_algorithm = AES_CTR

# InnoDB/XtraDB Encryption
# https://mariadb.com/kb/en/innodb-encryption-overview/#basic-configuration
# The 'FORCE' option requires all InnoDB tables to be encrypted.
innodb_encrypt_tables = FORCE
innodb_encrypt_log = ON
innodb_encryption_threads = 4
innodb_encryption_rotate_key_age = 1
